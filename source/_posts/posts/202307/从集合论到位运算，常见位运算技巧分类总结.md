---
title: 从集合论到位运算，常见位运算技巧分类总结
toc_number: false
abbrlink: 7087
date: 2023-07-14 08:20:14
updated: 2023-07-14 08:20:14
tags:
categories:
cover:
keywords:
description:
katex: true
---

{% note primary modern %}

本文非原创，转载自[灵茶山艾府](https://leetcode.cn/u/endlesscheng/)，具体出处见文章底部

{% endnote %}

### 前言

本文将扫清位运算的迷雾，在集合论与位运算之间建立一座桥梁。

在高中，我们学了集合论（set theory）的相关知识。例如，包含若干帧数的集合 $S=\left\{ 0,2,3 \right\}$。在编程中，通常用哈希表（hash table）实现集合，例如 Java 中的 `HashSet`，Golang 中的 `map`。

在集合论中，有交集 $ \cap$、并集 $\cup$、包含于 $\subseteq$ 等等概念。如何编程实现「求两个哈希表的交集」，需要一个个遍地遍历哈希表中的元素。有没有更高效的做法呢？

该二进制上场了。

集合可以用二进制表示，二进制**从低到高**第 $i$ 位为 1 表示 $i$ 在集合中，为 0 表示 $i$ 不在集合中。例如集合 $\left\{ 0,2,3 \right\}$ 可以用二进制数 1101 表示；反过来，二进制数 1101 就对应集合 $\left\{ 0,2,3 \right\}$。

正式地说，包含非负整数的集合 $S$ 可以用如下方式「压缩」成一个数字：

$$f(S) =\sum_{i\in S} 2^i $$

上面举例的 ${0,2,3}$ 可以压缩成 $2^0+2^2+2^3=13$，也就是二进制数 1101。

利用位运算「并行运算」的特点，我们可以高效地做一些和集合相关的运算，按照常见的应用场景，可以分为以下四类：

1. 集合与集合
2. 集合与元素
3. 遍历集合
4. 枚举集合

### 一、集合与集合

其中 $\&$ 表示按位与，$|$ 表示安慰或，$\oplus$  表示按位异或，$ ∼ $ 表示按位取反。

其中「对称差」指仅在其中一个集合的元素。
