name: Action
on:
  push:
    branches:
      - hexo
jobs:
  build:
    runs-on: ubuntu-latest
    steps:

      steps:
        - name: Clean hexo
          uses: heowc/action-hexo@main
          with:
            args: clean

        - name: Generate Hexo
          uses: heowc/action-hexo@main
          with:
            args: generate

        - name: Deploy to inkdp.github.io
          uses: peaceiris/actions-gh-pages@v3
          with:
            personal_token: ${{ secrets.CI_TOKEN }}
            external_repository: inkdp/inkdp.github.io
            publish_branch: master
            publish_dir: ./public
